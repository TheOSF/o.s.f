#include	"iextreme.h"
#include	"system/system.h"
#include	"debug\DebugFunction.h"
#include	"sceneMain.h"
//*****************************************************************************************************************************
//
//	グローバル変数
//
//*****************************************************************************************************************************
static iexView* m_pView;
static iex3DObj* ECCMAN;

//*****************************************************************************************************************************
//
//	初期化
//
//*****************************************************************************************************************************


bool sceneMain::Initialize()
{

	//	環境設定
	iexLight::SetAmbient(0x404040);
	iexLight::SetFog( 800, 1000, 0 );

	Vector3 dir( 1.0f, -1.0f, -0.5f );
	dir.Normalize();
	iexLight::DirLight( shader, 0, &dir, 0.8f, 0.8f, 0.8f );

	m_pView = new iexView;
	m_pView->Set(Vector3(0, 5, -15), Vector3(0, 4, 0));

	ECCMAN = new iex3DObj("DATA\\CHR\\ECCMAN\\ECCMAN.iem");
	ECCMAN->SetMotion(1);
	ECCMAN->SetScale(0.05f);
	ECCMAN->SetAngle(0);
	ECCMAN->SetPos(0, 0, 0);
	ECCMAN->Update();

	return true;
}

//*****************************************************************************************************************************
//
//		解放
//
//*****************************************************************************************************************************

sceneMain::~sceneMain()
{
	delete m_pView;
	delete ECCMAN;
}

//*****************************************************************************************************************************
//
//		更新
//
//*****************************************************************************************************************************
void	sceneMain::Update()
{
	ECCMAN->Animation();
	m_pView->Activate();
}

//*****************************************************************************************************************************
//
//		描画関連
//
//*****************************************************************************************************************************

void	sceneMain::Render()
{
	m_pView->Clear();

	ECCMAN->Render();
}
